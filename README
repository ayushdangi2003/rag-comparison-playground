# RAG Comparison Playground

A full-stack application to compare multiple Retrieval-Augmented Generation (RAG) architectures on PDF documents using a FastAPI backend and a Next.js + Tailwind CSS frontend.

## ğŸš€ Features

* ğŸ“„ Upload PDFs and extract embeddings using LangChain + Qdrant
* ğŸ” Compare 3 RAG pipelines:

  * **Simple RAG**
  * **Self-Query RAG**
  * **RAG + Reranker** (using Jina AI)
* ğŸ“Š View answers, source chunks, and latency metrics side-by-side
* ğŸŒ Frontend built with Next.js App Router and Tailwind CSS

---

## ğŸ“ Project Structure

```
rag-playground/
â”œâ”€â”€ backend/                 # FastAPI backend
â”‚   â”œâ”€â”€ main.py              # API endpoints
â”‚   â”œâ”€â”€ utils/ingest.py      # PDF processing and embedding
â”‚   â”œâ”€â”€ rag/
â”‚   â”‚   â”œâ”€â”€ simple.py        # Simple RAG
â”‚   â”‚   â”œâ”€â”€ selfquery.py     # Self-query RAG
â”‚   â”‚   â””â”€â”€ reranker.py      # Jina RAG
â”‚   â””â”€â”€ Dockerfile (optional)
â”‚
â”œâ”€â”€ rag-frontend/           # Frontend
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ page.tsx         # Home page
â”‚   â”‚   â”œâ”€â”€ components/CompareView.tsx
â”‚   â”‚   â””â”€â”€ lib/api.ts, upload.ts
â”‚   â””â”€â”€ tailwind.config.ts, etc.
```

---

## âš™ï¸ Backend Setup (FastAPI)

```bash
cd backend
python -m venv venv
source venv/bin/activate  # or venv\Scripts\activate on Windows
pip install -r requirements.txt
uvicorn main:app --reload
```

#### Environment Variables

```bash
# Set both in the same terminal
$env:OPENAI_API_KEY = "your_groq_or_openai_key"
$env:OPENAI_API_BASE = "https://api.groq.com/openai/v1"
$env:JINA_API_KEY = "your_jina_key"
```

---

## ğŸ’» Frontend Setup (Next.js)

```bash
cd rag-frontend
npm install
npm run dev
```

Access at: [http://localhost:3000](http://localhost:3000)

---

## ğŸ” API Endpoints

| Endpoint     | Method | Description              |
| ------------ | ------ | ------------------------ |
| `/upload`    | POST   | Upload and embed PDF     |
| `/query`     | POST   | Simple RAG               |
| `/selfquery` | POST   | Self-querying RAG        |
| `/rerank`    | POST   | RAG + reranker (Jina AI) |

---

## ğŸ“Š Latency Metrics (Frontend)

Each architecture response now includes latency:

```ts
setResults((prev) => ({
  ...prev,
  [id]: { ...res, latency: Date.now() - start }
}))
```

And displayed in the UI:

```tsx
<p className="text-xs text-gray-500">Latency: {results[id]?.latency} ms</p>
```

---

## ğŸ“¦ Deployment

* **Frontend**: [Vercel](https://vercel.com/)
* **Backend**: [Render](https://render.com/), [Railway](https://railway.app/), or Docker + Qdrant
* âš ï¸ Make sure to allow CORS in FastAPI and expose correct ports

---

## ğŸ§  Credits

* LangChain
* Groq / OpenAI
* Jina AI Reranker
* Tailwind CSS
* Qdrant

---

## ğŸ“œ License

MIT License
